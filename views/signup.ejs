<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head.ejs') %>

  <body class="forest-body">
    <%- include('partials/nav.ejs') %>

    <main class="page-main">
      <section class="container py-5 auth-section">
        <div class="row justify-content-center">
          <div class="col-md-10 col-lg-7 col-xl-6">
            <div class="forest-card auth-card">
              <header class="mb-4 text-center">
                <p class="featured-label mb-1">Join the watch</p>
                <h1 class="page-title mb-1">Sign Up</h1>
                <p class="page-subtitle mb-0">
                  Create an account to log cryptid sightings and save your favorites.
                </p>
              </header>

              <% if (typeof error !== "undefined" && error) { %>
                <div class="alert alert-danger alert-dismissible text-center" role="alert">
                  <%= error %>
                  <button type="button" class="btn-close btn-dark no-focus" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
              <% } %>

              <% if (typeof message !== "undefined" && message) { %>
                <div class="alert alert-success alert-dismissible text-center" role="alert">
                  <%= message %>
                  <button type="button" class="btn-close btn-dark no-focus" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
              <% } %>

              <form action="/signup" method="POST" class="row g-3">
                <div class="col-12">
                  <label for="username" class="form-label">Username *</label>
                  <input
                    type="text"
                    class="form-control forest-input"
                    id="username"
                    name="username"
                    required
                  >
                </div>

                <div class="col-12">
                  <label for="email" class="form-label">Email *</label>
                  <input
                    type="email"
                    class="form-control forest-input"
                    id="email"
                    name="email"
                    required
                  >
                </div>

                <div class="col-12">
                  <label for="firstame" class="form-label">First Name</label>
                  <input
                    type="text"
                    class="form-control forest-input"
                    id="firstname"
                    name="firstname"
                  >
                </div>

                <div class="col-12">
                  <label for="lastname" class="form-label">Last Name</label>
                  <input
                    type="text"
                    class="form-control forest-input"
                    id="lastname"
                    name="lastname"
                  >
                </div>

                <!-- Avatar Selection -->
                <div class="col-12 mb-4">
                    <label class="form-label">Choose an Avatar</label>
                    <div id="avatarCarousel" class="carousel slide">
                    <div class="carousel-inner">
                    </div>

                    <!-- controls -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#avatarCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#avatarCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </button>
                    </div>
                </div>
                <input type="hidden" name="avatar_url" id="avatarInput">



                <div class="col-12">
                  <label for="password" class="form-label">Password *</label>
                  <input
                    type="password"
                    class="form-control forest-input"
                    id="password"
                    name="password"
                    required
                  >
                </div>

                <div class="col-12">
                  <label for="confirmPassword" class="form-label">Confirm Password *</label>
                  <input
                    type="password"
                    class="form-control forest-input"
                    id="confirmPassword"
                    name="confirmPassword"
                    required
                  >
                </div>
                
                <div class="d-flex justify-content-end align-items-center mt-2">
                <span>* Required</span>
                </div>
                <div class="col-12 d-flex justify-content-between align-items-center mt-2">
                  <button type="submit" class="btn btn-forest">
                    Create Account
                  </button>
                  <a href="/login" class="small text-decoration-none">
                    Already have an account? <span class="text-reset">Sign in</span>
                  </a>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>
    </main>

    <%- include('partials/footer.ejs') %>
    <script src="/js/signup.js"></script>
  </body>
</html>
