<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head.ejs') %>

  <body class="forest-body">
    <%- include('partials/nav.ejs') %>

    <main class="page-main">
      <section class="container py-5">
        <header class="page-header mb-4">
          <h1 class="page-title">User Profile</h1>

        <% if (typeof error !== "undefined" && error) { %>
          <div class="alert alert-danger alert-dismissible w-50 mx-auto text-center" role="alert">
            <%= error %>
            <button type="button" class="btn-close btn-dark no-focus" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        <% } %>

        <% if (typeof message !== "undefined" && message) { %>
          <div class="alert alert-success alert-dismissible w-50 mx-auto text-center" role="alert">
            <%= message %>
            <button type="button" class="btn-close btn-dark no-focus" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        <% } %>


        </header>
        <div class="forest-card">
          <div class="row d-flex g-4">

            
    <div class="row d-flex align-items-center g-4">
      <div class="col-md-4 text-center inner-profileimg">
        <img src="<%= profile[0].avatar_url || '/img/profileplaceholder.png' %>" 
            alt="Profile image" class="rounded-circle mb-3" style="width: 275px;height:275px;">
        <h5><%= profile[0].first_name %> <%= profile[0].last_name %></h5>
        <small>@<%= profile[0].username %></small>
      </div>

    <div class="col-md-8 inner-profileinfo d-flex flex-column justify-content-between mb-5 mt-5">
      <h5 class="mb-5"><strong>Email:</strong> <%= profile[0].email %></h5>
      <h5 class="mb-5"><strong>Contact:</strong> <%= profile[0].contact || 'Not provided' %></h5>
      <h5 class="mb-5"><strong>Biography:</strong> <%= profile[0].bio || 'No biography yet' %></h5>
      <h5 class="mb-0"><strong>Joined:</strong> <%= profile[0].created_at.toDateString() %></h5>
    </div>
  </div>
  
    <div class="d-flex justify-content-end">
      <a href="/profile/edit" class="btn btn-forest btn-sm">
        <i class="bi bi-pencil-square me-1"></i> Edit Profile
      </a>
    </div>

          </div>
        </div>
      </section>
    </main>

    <%- include('partials/footer.ejs') %>
  </body>
</html>
